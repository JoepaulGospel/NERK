<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NERK | Finance Intelligence</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://unpkg.com/lucide@latest"></script>
<!-- FIREBASE LEGACY SCRIPTS FOR SINGLE FILE SUPPORT -->
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap" rel="stylesheet">
<style>
body { font-family: 'Plus Jakarta Sans', sans-serif; background: #f4f4f7; color: #1c1c1e; }
.glass { background: rgba(255, 255, 255, 0.7); backdrop-filter: blur(20px); border: 1px solid rgba(255,255,255,0.8); }
.traffic-dot { transition: all 0.6s cubic-bezier(0.23, 1, 0.32, 1); }
.light-active-green { background: #22c55e; box-shadow: 0 0 25px #22c55e; }
.light-active-yellow { background: #eab308; box-shadow: 0 0 25px #eab308; }
.light-active-red { background: #ef4444; box-shadow: 0 0 25px #ef4444; }
input::-webkit-outer-spin-button, input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
</style>
</head>
<body class="p-6 pb-32">
<div class="max-w-md mx-auto space-y-8">
<!-- HEADER -->
<header class="flex justify-between items-center pt-8">
<div>
<h1 class="text-3xl font-extrabold tracking-tighter">NERK</h1>
<p class="text-[10px] font-black uppercase tracking-[0.3em] text-zinc-400">Budget Intelligence</p>
</div>
<button onclick="setNewBudget()" class="w-10 h-10 glass rounded-2xl flex items-center justify-center text-zinc-500 hover:text-indigo-600 transition-colors">
<i data-lucide="settings-2" class="w-5 h-5"></i>
</button>
</header>
<!-- MAIN TRAFFIC LIGHT PILLAR -->
<div class="glass rounded-[3rem] p-10 shadow-2xl shadow-black/5 flex justify-between items-center relative overflow-hidden">
<div class="space-y-1">
<p id="status-text" class="text-[10px] font-black uppercase tracking-widest text-green-600">Safe Zone</p>
<p class="text-[11px] font-medium text-zinc-400">Remaining Capital</p>
<h2 id="display-balance" class="text-4xl font-black tracking-tighter">₦0</h2>
</div>
<!-- THE LIGHTS -->
<div class="flex flex-col gap-3 bg-zinc-200/50 p-2 rounded-full border border-black/5">
<div id="light-red" class="traffic-dot w-5 h-5 rounded-full bg-zinc-300"></div>
<div id="light-yellow" class="traffic-dot w-5 h-5 rounded-full bg-zinc-300"></div>
<div id="light-green" class="traffic-dot w-5 h-5 rounded-full bg-zinc-300"></div>
</div>
</div>
<!-- STAT CARDS -->
<div class="grid grid-cols-2 gap-4">
<div class="glass p-6 rounded-[2.5rem] space-y-1">
<p class="text-[10px] font-black text-zinc-400 uppercase tracking-widest">Monthly Limit</p>
<p id="display-budget" class="text-lg font-bold">₦0</p>
</div>
<div class="bg-zinc-900 p-6 rounded-[2.5rem] space-y-1 shadow-xl shadow-zinc-900/20">
<p class="text-[10px] font-black text-zinc-500 uppercase tracking-widest">Spent So Far</p>
<p id="display-spent" class="text-lg font-bold text-indigo-400">₦0</p>
</div>
</div>
<!-- RECENT ACTIVITY -->
<div class="space-y-4">
<h3 class="text-xs font-black uppercase tracking-widest text-zinc-400 ml-2">Recent Logs</h3>
<div id="expense-list" class="space-y-3">
<!-- Expenses will load here -->
</div>
</div>
<!-- FLOATING INPUT -->
<div class="fixed bottom-8 left-0 w-full px-6">
<div class="max-w-md mx-auto glass p-3 rounded-[2.5rem] shadow-2xl flex items-center gap-3 border-white">
<div class="bg-zinc-100 w-12 h-12 rounded-full flex items-center justify-center text-zinc-400 ml-1">₦</div>
<input id="amount-input" type="number" placeholder="0.00" class="flex-1 bg-transparent py-3 font-bold text-xl outline-none" />
<button onclick="addExpense()" class="bg-zinc-900 hover:bg-indigo-600 text-white w-14 h-14 rounded-full flex items-center justify-center shadow-lg transition-all active:scale-90">
<i data-lucide="plus" class="w-7 h-7"></i>
</button>
</div>
</div>
</div>
<script>
// --- FIREBASE CONFIG (Replace with your keys) ---
const firebaseConfig = {
apiKey: "YOUR_API_KEY",
projectId: "YOUR_PROJECT_ID",
appId: "YOUR_APP_ID"
};
// Initialize Firebase
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();
let currentBudget = localStorage.getItem('nerk_budget') || 500000;
let totalSpent = 0;
function init() {
lucide.createIcons();
fetchExpenses();
updateBudgetUI();
}
function updateBudgetUI() {
document.getElementById('display-budget').innerText = `₦${Number(currentBudget).toLocaleString()}`;
}
function setNewBudget() {
const val = prompt("Enter your monthly budget limit (₦):", currentBudget);
if (val && !isNaN(val)) {
currentBudget = val;
localStorage.setItem('nerk_budget', val);
updateBudgetUI();
calculateTraffic();
}
}
function fetchExpenses() {
db.collection("expenses").orderBy("createdAt", "desc").limit(10).onSnapshot((snapshot) => {
const list = document.getElementById('expense-list');
list.innerHTML = '';
totalSpent = 0;
snapshot.forEach((doc) => {
const data = doc.data();
totalSpent += Number(data.amount);
const item = document.createElement('div');
item.className = "glass p-4 rounded-3xl flex justify-between items-center animate-in fade-in slide-in-from-bottom-2";
item.innerHTML = `
<div class="flex items-center gap-3">
<div class="w-10 h-10 bg-zinc-100 rounded-2xl flex items-center justify-center text-zinc-400">
<i data-lucide="shopping-bag" class="w-4 h-4"></i>
</div>
<span class="font-bold text-sm">Outflow</span>
</div>
<span class="font-black text-sm">-₦${data.amount.toLocaleString()}</span>
`;
list.appendChild(item);
});
lucide.createIcons();
calculateTraffic();
});
}
function calculateTraffic() {
const ratio = totalSpent / currentBudget;
const balance = currentBudget - totalSpent;
document.getElementById('display-balance').innerText = `₦${balance.toLocaleString()}`;
document.getElementById('display-spent').innerText = `₦${totalSpent.toLocaleString()}`;
const r = document.getElementById('light-red');
const y = document.getElementById('light-yellow');
const g = document.getElementById('light-green');
const statusLabel = document.getElementById('status-text');
// Reset lights
r.className = "traffic-dot w-5 h-5 rounded-full bg-zinc-300";
y.className = "traffic-dot w-5 h-5 rounded-full bg-zinc-300";
g.className = "traffic-dot w-5 h-5 rounded-full bg-zinc-300";
if (ratio < 0.5) {
g.classList.add('light-active-green');
statusLabel.innerText = "Safe Zone";
statusLabel.className = "text-[10px] font-black uppercase tracking-widest text-green-600";
} else if (ratio < 0.9) {
y.classList.add('light-active-yellow');
statusLabel.innerText = "Caution Zone";
statusLabel.className = "text-[10px] font-black uppercase tracking-widest text-yellow-600";
} else {
r.classList.add('light-active-red');
statusLabel.innerText = "Danger Zone";
statusLabel.className = "text-[10px] font-black uppercase tracking-widest text-red-600";
}
}
async function addExpense() {
const input = document.getElementById('amount-input');
const amount = Number(input.value);
if (!amount || amount <= 0) return;
try {
await db.collection("expenses").add({
amount: amount,
createdAt: firebase.firestore.FieldValue.serverTimestamp()
});
input.value = '';
} catch (e) {
alert("Database Error: " + e.message);
}
}
init();
</script>
</body>
</html>